{"ast":null,"code":"import _toConsumableArray from\"C:/projects/Calculator/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/projects/Calculator/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"C:/projects/Calculator/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/projects/Calculator/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/projects/Calculator/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/projects/Calculator/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/projects/Calculator/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import'./Calculator.css';import Button from\"../components/Button\";import Display from\"../components/Display\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={displayValue:'0',clearDisplay:false,operation:null,values:[0,0],current:0};var Calculator=/*#__PURE__*/function(_Component){_inherits(Calculator,_Component);var _super=_createSuper(Calculator);function Calculator(props){var _this;_classCallCheck(this,Calculator);_this=_super.call(this,props);_this.state=_objectSpread({},initialState);_this.clearMemory=_this.clearMemory.bind(_assertThisInitialized(_this));_this.setOperation=_this.setOperation.bind(_assertThisInitialized(_this));_this.addDigit=_this.addDigit.bind(_assertThisInitialized(_this));return _this;}_createClass(Calculator,[{key:\"clearMemory\",value:function clearMemory(){this.setState(_objectSpread({},initialState));}},{key:\"setOperation\",value:function setOperation(operation){if(this.state.current===0){this.setState({operation:operation,current:1,clearDisplay:true});}else{var equals=operation==='=';var currentOperation=this.state.operation;var values=_toConsumableArray(this.state.values);try{values[0]=eval(\"\".concat(values[0],\" \").concat(currentOperation,\" \").concat(values[1]));if(isNaN(values[0])||!isFinite(values[0])){this.clearMemory();return;}}catch(e){values[0]=this.state.values[0];}values[1]=0;this.setState({displayValue:values[0],operation:equals?null:operation,current:equals?0:1,clearDisplay:!equals,values:values});}}},{key:\"addDigit\",value:function addDigit(n){if(n==='.'&&this.state.displayValue.includes('.')){return;}var clearDisplay=this.state.displayValue==='0'||this.state.clearDisplay;var currentValue=clearDisplay?'':this.state.displayValue;var displayValue=currentValue+n;this.setState({displayValue:displayValue,clearDisplay:false});if(n!=='.'){var i=this.state.current;var newValue=parseFloat(displayValue);var values=_toConsumableArray(this.state.values);values[i]=newValue;this.setState({values:values});}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"calculator\",children:[/*#__PURE__*/_jsx(Display,{value:this.state.displayValue}),/*#__PURE__*/_jsx(Button,{label:\"C\",click:this.clearMemory,triple:true}),/*#__PURE__*/_jsx(Button,{label:\"/\",click:this.setOperation,operation:true}),/*#__PURE__*/_jsx(Button,{label:\"7\",click:this.addDigit}),/*#__PURE__*/_jsx(Button,{label:\"8\",click:this.addDigit}),/*#__PURE__*/_jsx(Button,{label:\"9\",click:this.addDigit}),/*#__PURE__*/_jsx(Button,{label:\"*\",click:this.setOperation,operation:true}),/*#__PURE__*/_jsx(Button,{label:\"4\",click:this.addDigit}),/*#__PURE__*/_jsx(Button,{label:\"5\",click:this.addDigit}),/*#__PURE__*/_jsx(Button,{label:\"6\",click:this.addDigit}),/*#__PURE__*/_jsx(Button,{label:\"-\",click:this.setOperation,operation:true}),/*#__PURE__*/_jsx(Button,{label:\"1\",click:this.addDigit}),/*#__PURE__*/_jsx(Button,{label:\"2\",click:this.addDigit}),/*#__PURE__*/_jsx(Button,{label:\"3\",click:this.addDigit}),/*#__PURE__*/_jsx(Button,{label:\"+\",click:this.setOperation,operation:true}),/*#__PURE__*/_jsx(Button,{label:\"0\",click:this.addDigit,double:true}),/*#__PURE__*/_jsx(Button,{label:\".\",click:this.addDigit}),/*#__PURE__*/_jsx(Button,{label:\"=\",click:this.setOperation,operation:true})]});}}]);return Calculator;}(Component);export{Calculator as default};","map":{"version":3,"names":["React","Component","Button","Display","initialState","displayValue","clearDisplay","operation","values","current","Calculator","props","state","clearMemory","bind","setOperation","addDigit","setState","equals","currentOperation","eval","isNaN","isFinite","e","n","includes","currentValue","i","newValue","parseFloat"],"sources":["C:/projects/Calculator/src/main/Calculator.jsx"],"sourcesContent":["import React, {Component} from \"react\";\r\nimport './Calculator.css'\r\n\r\nimport Button from \"../components/Button\";\r\nimport Display from \"../components/Display\";\r\n\r\nconst initialState={\r\n    displayValue:'0',\r\n    clearDisplay: false,\r\n    operation: null,\r\n    values: [0,0],\r\n    current: 0\r\n}\r\n\r\nexport default class Calculator extends Component{\r\n\r\n    state = {...initialState}\r\n\r\n    constructor(props){\r\n        super(props) \r\n        this.clearMemory = this.clearMemory.bind(this)\r\n        this.setOperation = this.setOperation.bind(this)\r\n        this.addDigit = this.addDigit.bind(this)\r\n    }\r\n\r\n    clearMemory(){\r\n        this.setState({...initialState})\r\n    }\r\n    setOperation(operation){\r\n        if(this.state.current === 0){\r\n            this.setState({ operation, current:1, clearDisplay:true })\r\n        }else{\r\n            const equals = operation ==='='\r\n            const currentOperation = this.state.operation\r\n\r\n            const values = [...this.state.values]\r\n\r\n            try{\r\n                values[0] = eval(`${values[0]} ${currentOperation} ${values[1]}`)\r\n                if (isNaN(values[0]) || !isFinite(values[0])) {\r\n                    this.clearMemory()\r\n                return\r\n                }\r\n            }catch(e){\r\n                values[0] = this.state.values[0]\r\n            }\r\n\r\n            values[1] = 0\r\n\r\n            this.setState({\r\n                displayValue: values[0],\r\n                operation: equals? null : operation,\r\n                current: equals ? 0 : 1,\r\n                clearDisplay: !equals,\r\n                values\r\n            })\r\n        }\r\n    }\r\n    addDigit(n){\r\n        if (n ==='.' && this.state.displayValue.includes('.')){\r\n            return\r\n        }\r\n        const clearDisplay = this.state.displayValue==='0'\r\n            || this.state.clearDisplay\r\n        const currentValue= clearDisplay ? '': this.state.displayValue\r\n        const displayValue = currentValue + n\r\n        this.setState({ displayValue, clearDisplay: false })\r\n\r\n        if(n !== '.'){\r\n            const i = this.state.current\r\n            const newValue = parseFloat(displayValue)\r\n            const values = [...this.state.values]\r\n            values[i] = newValue\r\n            this.setState({ values })\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"calculator\">\r\n                <Display value={this.state.displayValue}/>\r\n                <Button label=\"C\" click={this.clearMemory} triple />\r\n                <Button label=\"/\" click={this.setOperation} operation />\r\n                <Button label=\"7\" click={this.addDigit}/>\r\n                <Button label=\"8\" click={this.addDigit}/>\r\n                <Button label=\"9\" click={this.addDigit}/>\r\n                <Button label=\"*\" click={this.setOperation} operation />\r\n                <Button label=\"4\" click={this.addDigit}/>\r\n                <Button label=\"5\" click={this.addDigit}/>\r\n                <Button label=\"6\" click={this.addDigit}/>\r\n                <Button label=\"-\" click={this.setOperation} operation />\r\n                <Button label=\"1\" click={this.addDigit}/>\r\n                <Button label=\"2\" click={this.addDigit}/>\r\n                <Button label=\"3\" click={this.addDigit}/>\r\n                <Button label=\"+\" click={this.setOperation} operation />\r\n                <Button label=\"0\" click={this.addDigit} double />\r\n                <Button label=\".\" click={this.addDigit}/>\r\n                <Button label=\"=\" click={this.setOperation} operation />\r\n            </div>\r\n        )\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}